# ğŸš€ Cloud Seckill - é«˜å¹¶å‘ç§’æ€ç³»ç»Ÿ

![Java](https://img.shields.io/badge/Java-17-orange?style=flat-square&logo=openjdk)
![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.2.4-brightgreen?style=flat-square&logo=springboot)
![Spring Cloud](https://img.shields.io/badge/Spring%20Cloud-2023.0.1-blue?style=flat-square&logo=spring)
![License](https://img.shields.io/badge/License-MIT-yellow?style=flat-square)

## ğŸ“– é¡¹ç›®ç®€ä»‹

**Cloud Seckill** æ˜¯ä¸€ä¸ªåŸºäº **Spring Cloud Alibaba** çš„åˆ†å¸ƒå¼é«˜å¹¶å‘ç§’æ€ç³»ç»Ÿï¼Œæ—¨åœ¨è§£å†³ç”µå•†ç§’æ€åœºæ™¯ä¸‹çš„é«˜å¹¶å‘ã€é«˜å¯ç”¨ã€æ•°æ®ä¸€è‡´æ€§ç­‰æ ¸å¿ƒé—®é¢˜ã€‚é¡¹ç›®é‡‡ç”¨å¾®æœåŠ¡æ¶æ„è®¾è®¡ï¼Œé€šè¿‡å¤šç§æŠ€æœ¯æ‰‹æ®µå®ç°ç§’æ€ä¸šåŠ¡çš„é«˜æ€§èƒ½å¤„ç†ã€‚

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚   ç”¨æˆ·è¯·æ±‚å…¥å£   â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚  API Gateway    â”‚
                            â”‚  (seckill_gateway)
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                      â”‚                      â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   è®¢å•æœåŠ¡       â”‚    â”‚   åº“å­˜æœåŠ¡       â”‚    â”‚   å…¶ä»–æœåŠ¡...    â”‚
     â”‚ (seckill_order) â”‚    â”‚ (seckill_stock) â”‚    â”‚                 â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚                â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
   â”‚  MySQL  â”‚     â”‚   Redis   â”‚    â”‚ RocketMQ  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ æ¨¡å—è¯´æ˜

| æ¨¡å—åç§° | æè¿° |
|---------|------|
| `seckill_common` | å…¬å…±æ¨¡å—ï¼ŒåŒ…å«é€šç”¨å·¥å…·ç±»ã€å¸¸é‡ã€å“åº”å°è£…ç­‰ |
| `seckill_gateway` | API ç½‘å…³æ¨¡å—ï¼Œè´Ÿè´£è¯·æ±‚è·¯ç”±ã€è´Ÿè½½å‡è¡¡ã€é™æµç­‰ |
| `seckill_order` | è®¢å•æœåŠ¡æ¨¡å—ï¼Œå¤„ç†ç§’æ€è®¢å•çš„åˆ›å»ºä¸ç®¡ç† |
| `seckill_stock` | åº“å­˜æœåŠ¡æ¨¡å—ï¼Œç®¡ç†å•†å“åº“å­˜çš„æ‰£å‡ä¸åŒæ­¥ |

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶
- **Java 17** - JDK ç‰ˆæœ¬
- **Spring Boot 3.2.4** - åŸºç¡€æ¡†æ¶
- **Spring Cloud 2023.0.1** - å¾®æœåŠ¡æ¡†æ¶
- **Spring Cloud Alibaba 2023.0.1.0** - é˜¿é‡Œå·´å·´å¾®æœåŠ¡ç»„ä»¶

### ä¸­é—´ä»¶
| ç»„ä»¶ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **Nacos** | v2.3.1 | æœåŠ¡æ³¨å†Œä¸å‘ç°ã€é…ç½®ä¸­å¿ƒ |
| **MySQL** | 8.0 | æŒä¹…åŒ–å­˜å‚¨ |
| **Redis** | 7.2 | ç¼“å­˜ã€åˆ†å¸ƒå¼é”ã€åº“å­˜é¢„æ‰£å‡ |
| **RocketMQ** | 5.2.0 | æ¶ˆæ¯é˜Ÿåˆ—ã€å¼‚æ­¥å‰Šå³° |
| **Sentinel** | 1.8.6 | æµé‡æ§åˆ¶ã€ç†”æ–­é™çº§ |

### æŒä¹…å±‚ & å·¥å…·
- **MyBatis-Plus 3.5.7** - ORM æ¡†æ¶
- **Hutool 5.8.26** - Java å·¥å…·åº“
- **Knife4j 4.5.0** - API æ–‡æ¡£ç”Ÿæˆ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- JDK 17+
- Maven 3.8+
- Docker & Docker Compose

### 1. å¯åŠ¨åŸºç¡€è®¾æ–½

ä½¿ç”¨ Docker Compose ä¸€é”®å¯åŠ¨æ‰€æœ‰ä¸­é—´ä»¶ï¼š

```bash
# è¿›å…¥é¡¹ç›®æ ¹ç›®å½•
cd cloud_seckill

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d
```

### 2. æœåŠ¡ç«¯å£è¯´æ˜

| æœåŠ¡ | ç«¯å£ | è®¿é—®åœ°å€ |
|------|------|----------|
| Nacos | 8848 | http://localhost:8848/nacos |
| MySQL | 3307 | localhost:3307 (root/root) |
| Redis | 6379 | localhost:6379 (å¯†ç : root) |
| RocketMQ NameServer | 9876 | localhost:9876 |
| RocketMQ Dashboard | 8081 | http://localhost:8081 |
| Sentinel Dashboard | 8858 | http://localhost:8858 (sentinel/sentinel) |

### 3. ç¼–è¯‘é¡¹ç›®

```bash
# Maven ç¼–è¯‘
mvn clean install -DskipTests
```

### 4. å¯åŠ¨å¾®æœåŠ¡

æŒ‰ä»¥ä¸‹é¡ºåºå¯åŠ¨å„ä¸ªæœåŠ¡ï¼š

1. **seckill_gateway** - ç½‘å…³æœåŠ¡
2. **seckill_stock** - åº“å­˜æœåŠ¡
3. **seckill_order** - è®¢å•æœåŠ¡

## ğŸ“ é¡¹ç›®ç»“æ„

```
cloud_seckill/
â”œâ”€â”€ data/                    # Docker æ•°æ®æŒä¹…åŒ–ç›®å½•
â”‚   â””â”€â”€ mysql/              # MySQL æ•°æ®æ–‡ä»¶
â”œâ”€â”€ seckill_common/          # å…¬å…±æ¨¡å—
â”‚   â””â”€â”€ pom.xml
â”œâ”€â”€ seckill_gateway/         # ç½‘å…³æ¨¡å—
â”‚   â””â”€â”€ pom.xml
â”œâ”€â”€ seckill_order/           # è®¢å•æœåŠ¡æ¨¡å—
â”‚   â””â”€â”€ pom.xml
â”œâ”€â”€ seckill_stock/           # åº“å­˜æœåŠ¡æ¨¡å—
â”‚   â””â”€â”€ pom.xml
â”œâ”€â”€ docker-compose.yml       # Docker ç¼–æ’æ–‡ä»¶
â”œâ”€â”€ pom.xml                  # çˆ¶å·¥ç¨‹ POM
â””â”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£
```

## ğŸ”§ é…ç½®è¯´æ˜

### MySQL é…ç½®

- **ä¸»æœº**: localhost
- **ç«¯å£**: 3307
- **ç”¨æˆ·å**: root
- **å¯†ç **: root
- **é»˜è®¤æ•°æ®åº“**: seckill_order (å¯è‡ªè¡Œåˆ›å»º seckill_stock åº“)

### Redis é…ç½®

- **ä¸»æœº**: localhost
- **ç«¯å£**: 6379
- **å¯†ç **: root
- **æŒä¹…åŒ–**: å¼€å¯ AOF

### RocketMQ é…ç½®

- **NameServer**: localhost:9876
- **Broker**: localhost:10911

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ ç§’æ€æ ¸å¿ƒ
- ğŸ” **åˆ†å¸ƒå¼é”** - åŸºäº Redis Lua è„šæœ¬å®ç°åº“å­˜åŸå­æ€§æ‰£å‡
- ğŸ“¨ **å¼‚æ­¥å‰Šå³°** - é€šè¿‡ RocketMQ æ¶ˆæ¯é˜Ÿåˆ—å¼‚æ­¥å¤„ç†è®¢å•åˆ›å»º
- â±ï¸ **è®¢å•è¶…æ—¶** - å»¶æ—¶é˜Ÿåˆ—å®ç°æœªæ”¯ä»˜è®¢å•è‡ªåŠ¨å–æ¶ˆ
- ğŸ”„ **åº“å­˜å›æ»š** - è‡ªåŠ¨å›æ»šè¶…æ—¶/å–æ¶ˆè®¢å•çš„åº“å­˜

### ğŸ›¡ï¸ æœåŠ¡æ²»ç†
- ğŸš¦ **é™æµä¿æŠ¤** - Sentinel QPS é™æµ + çƒ­ç‚¹å‚æ•°é™æµ
- ğŸ’” **ç†”æ–­é™çº§** - å¼‚å¸¸æ¯”ä¾‹ç†”æ–­ + Feign é™çº§
- ğŸšª **API ç½‘å…³** - Spring Cloud Gateway + ç½‘å…³é™æµ
- ğŸ” **æœåŠ¡å‘ç°** - Nacos æœåŠ¡æ³¨å†Œä¸é…ç½®ä¸­å¿ƒ

### ğŸ“¦ ç”Ÿäº§å°±ç»ª
- ğŸ³ **Docker å®¹å™¨åŒ–** - å¤šé˜¶æ®µæ„å»ºä¼˜åŒ–é•œåƒ
- ğŸ“Š **Prometheus ç›‘æ§** - åº”ç”¨æŒ‡æ ‡æš´éœ²ä¸é‡‡é›†
- ğŸ“ˆ **Grafana å¯è§†åŒ–** - ç›‘æ§ä»ªè¡¨æ¿

## ğŸ“Š ä¸­é—´ä»¶æ§åˆ¶å°

| æ§åˆ¶å° | åœ°å€ | è´¦å·/å¯†ç  |
|--------|------|-----------|
| Nacos æ§åˆ¶å° | http://localhost:8848/nacos | nacos/nacos |
| RocketMQ Dashboard | http://localhost:8081 | - |
| Sentinel Dashboard | http://localhost:8858 | sentinel/sentinel |

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æäº¤ Issue æˆ– Pull Requestã€‚

---

<p align="center">
  <b>â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª Star æ”¯æŒä¸€ä¸‹ï¼</b>
</p>
